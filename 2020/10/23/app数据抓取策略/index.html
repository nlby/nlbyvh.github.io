<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>app数据抓取策略 | Memory</title>
  <meta name="description" content="写在前面 获取web端靠八爪鱼够用（比较简单的） 至于移动端的，花了那么多时间 发现没有一个稳定的方法 1025测试发现平行空间证书可行，1031就又不行了。用夜神最开始抖音极速版可搜索，隔一天又不行了。其实用各种抓包工具+夜神的话还好，但非要搞抖音还是直播的真是折磨人，就不太明白为啥非要这个数据，明说了有几年经验的爬虫工程师处理这个一直变动的情况都有难度，ty你可真是个人。不过还好抖音之外的a">
<meta property="og:type" content="article">
<meta property="og:title" content="app数据抓取策略">
<meta property="og:url" content="http://nlbyd1119.online/2020/10/23/app%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96%E7%AD%96%E7%95%A5/index.html">
<meta property="og:site_name" content="Memory">
<meta property="og:description" content="写在前面 获取web端靠八爪鱼够用（比较简单的） 至于移动端的，花了那么多时间 发现没有一个稳定的方法 1025测试发现平行空间证书可行，1031就又不行了。用夜神最开始抖音极速版可搜索，隔一天又不行了。其实用各种抓包工具+夜神的话还好，但非要搞抖音还是直播的真是折磨人，就不太明白为啥非要这个数据，明说了有几年经验的爬虫工程师处理这个一直变动的情况都有难度，ty你可真是个人。不过还好抖音之外的a">
<meta property="og:locale" content="zh">
<meta property="og:image" content="https://pic2.zhimg.com/v2-909d5867449f4b618c861e4cd0a34371_180x120.jpg">
<meta property="og:image" content="http://nlbyd1119.online/2020/10/23/app%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96%E7%AD%96%E7%95%A5/img/1603540783621.png">
<meta property="og:image" content="http://nlbyd1119.online/2020/10/23/app%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96%E7%AD%96%E7%95%A5/img/1603540845029.png">
<meta property="article:published_time" content="2020-10-23T11:32:25.000Z">
<meta property="article:modified_time" content="2020-11-01T04:03:12.288Z">
<meta property="article:author" content="nlby">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic2.zhimg.com/v2-909d5867449f4b618c861e4cd0a34371_180x120.jpg">
  <!-- Canonical links -->
  <link rel="canonical" href="http://nlbyd1119.online/2020/10/23/app%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96%E7%AD%96%E7%95%A5/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Memory" type="application/atom+xml">
  
  
    <link rel="icon" href="https://i.loli.net/2020/09/12/4y1TBOItE9w8WFq.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitment@0.0.3/style/default.min.css">
  
  
  
<meta name="generator" content="Hexo 4.2.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/nlby" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">nlby</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> NanJing, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">Home</span>
          </a>
        </li>
        
      </ul>
      
	

	  <embed src="https://jxiaoc.github.io/animeMusic/demo.html" width="100%"/>
	  <iframe frameborder="no" border="0" marginwidth="0"
						marginheight="0" width="100%" height=86 src="//music.163.com/outchain/player?type=0&id=4872500795&auto=0&height=66">
	  </iframe>
    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>记录和总结一下学习过程及其他</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/2005/">2005</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2006/">2006</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2007/">2007</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2008/">2008</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2009/">2009</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2011/">2011</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2012/">2012</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2013/">2013</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2014/">2014</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2017/">2017</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/70/">70</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/80/">80</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flask/">Flask</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JSP/">JSP</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NoSql/">NoSql</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ORM/">ORM</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web%E6%A1%86%E6%9E%B6/">Web框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/fabric/">fabric</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/live2d/">live2d</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/numpy/">numpy</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/pandas/">pandas</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/plot/">plot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%A8%E9%83%A8%E6%88%90%E4%B8%BAF/">全部成为F</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%86%99%E6%B3%95/">写法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8A%9F%E8%83%BD%E7%82%B9%E5%AD%A6%E4%B9%A0/">功能点学习</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%89%E5%85%A8/">安全</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%B9%E5%99%A8/">容器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/">工具使用</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8E%A7%E5%88%B6%E5%99%A8/">控制器</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">数据可视化</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%BF%97/">日志</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8/">框架使用</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A6%82%E5%BF%B5/">概念</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A8%A1%E6%9D%BF/">模板</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B5%8B%E8%AF%95/">测试</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%88%AC%E8%99%AB/">爬虫</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%B7%A5%E5%85%B7/">版本控制工具</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%8C%AB%E8%85%BB/">猫腻</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%8E%AF%E5%A2%83/">环境</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">环境配置</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/">知识点总结</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A1%AC%E4%BB%B6/">硬件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A7%BB%E5%8A%A8%E5%B8%83%E5%B1%80/">移动布局</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%B0%E5%BD%95/">记录</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BA%E6%96%87/">论文</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go/" rel="tag">Go</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaWeb/" rel="tag">JavaWeb</a><span class="tag-list-count">40</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python-Science/" rel="tag">Python Science</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PythonWeb/" rel="tag">PythonWeb</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/" rel="tag">android</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/" rel="tag">sql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%93%E4%B8%9A%E8%AF%BE/" rel="tag">专业课</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6/" rel="tag">博客框架</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A3%B0%E4%BC%98%E8%AE%B0%E5%BD%95/" rel="tag">声优记录</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E8%AF%B4%E6%95%B4%E7%90%86/" rel="tag">小说整理</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%88%E6%9E%9C/" rel="tag">效果</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正则表达式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" rel="tag">版本控制</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%95%AA%E5%89%A7%E8%AE%B0%E5%BD%95/" rel="tag">番剧记录</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%9A%E7%94%A8/" rel="tag">通用</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a><span class="tag-list-count">10</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/Go/" style="font-size: 13.5px;">Go</a> <a href="/tags/JavaWeb/" style="font-size: 14px;">JavaWeb</a> <a href="/tags/Python-Science/" style="font-size: 13.6px;">Python Science</a> <a href="/tags/PythonWeb/" style="font-size: 13.3px;">PythonWeb</a> <a href="/tags/android/" style="font-size: 13.8px;">android</a> <a href="/tags/sql/" style="font-size: 13px;">sql</a> <a href="/tags/%E4%B8%93%E4%B8%9A%E8%AF%BE/" style="font-size: 13.1px;">专业课</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 13.2px;">前端</a> <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" style="font-size: 13.4px;">区块链</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6/" style="font-size: 13px;">博客框架</a> <a href="/tags/%E5%A3%B0%E4%BC%98%E8%AE%B0%E5%BD%95/" style="font-size: 13.1px;">声优记录</a> <a href="/tags/%E5%B0%8F%E8%AF%B4%E6%95%B4%E7%90%86/" style="font-size: 13.1px;">小说整理</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 13.3px;">总结</a> <a href="/tags/%E6%95%88%E6%9E%9C/" style="font-size: 13px;">效果</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 13px;">机器学习</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 13px;">正则表达式</a> <a href="/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" style="font-size: 13px;">版本控制</a> <a href="/tags/%E7%95%AA%E5%89%A7%E8%AE%B0%E5%BD%95/" style="font-size: 13.9px;">番剧记录</a> <a href="/tags/%E9%80%9A%E7%94%A8/" style="font-size: 13px;">通用</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 13.7px;">随笔</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">Archive</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">51</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">13</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/">知识点总结</a>
              </p>
              <p class="item-title">
                <a href="/2020/10/31/%E6%B1%87%E7%BC%96%E7%A8%8B%E5%BA%8F%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E8%AF%B4%E6%98%8E/" class="title">汇编程序功能实现说明</a>
              </p>
              <p class="item-date">
                <time datetime="2020-10-31T15:58:55.000Z" itemprop="datePublished">2020-10-31</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2020/10/23/app%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96%E7%AD%96%E7%95%A5/" class="title">app数据抓取策略</a>
              </p>
              <p class="item-date">
                <time datetime="2020-10-23T11:32:25.000Z" itemprop="datePublished">2020-10-23</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a>
              </p>
              <p class="item-title">
                <a href="/2020/10/18/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%92%8Csolidity%E5%A4%8D%E4%B9%A0%E5%85%B6%E4%BA%8C/" class="title">以太坊和solidity复习其二</a>
              </p>
              <p class="item-date">
                <time datetime="2020-10-18T06:18:39.000Z" itemprop="datePublished">2020-10-18</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/">知识点总结</a>
              </p>
              <p class="item-title">
                <a href="/2020/10/14/8086%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/" class="title">8086指令系统</a>
              </p>
              <p class="item-date">
                <time datetime="2020-10-14T12:12:48.000Z" itemprop="datePublished">2020-10-14</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E6%B5%8B%E8%AF%95/">测试</a>
              </p>
              <p class="item-title">
                <a href="/2020/10/13/go-http/" class="title">go http</a>
              </p>
              <p class="item-date">
                <time datetime="2020-10-13T08:28:32.000Z" itemprop="datePublished">2020-10-13</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
	<!------ 位置可自定义 ------>
<div class="Canvas" style="position: fixed; right: 0px; bottom: 0px;z-index: 99999999" id="L2dCanvas"></div>

<!------ 依赖 JS | Dependent JS ------>
<!---- 可选 | Optional ---->
<!-- 兼容低版本浏览器 | Compatible with low-level browsers -->
<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"> </script>
<!-- 音频播放兼容 | Audio playback compatible -->
<script src="https://cdn.jsdelivr.net/npm/howler@2.1.3/dist/howler.min.js"></script>
<!---- 必需 | Required ---->
<script src="https://cdn.jsdelivr.net/gh/nlby/live2dCDN@1.0.2/static/live2dcubismcore.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pixi.js@4.6.1/dist/pixi.min.js"></script>
<!-- live2dv3.js -->
<script src="https://cdn.jsdelivr.net/gh/nlby/live2dCDN@1.0.2/static/live2dv3.js"></script>

<!------ 加载Live2d模型 | Load Live2d model ------>	
<script>
    window.onload = () => {
        new l2dViewer({
             el: document.getElementById('L2dCanvas'),
                basePath: 'https://cdn.jsdelivr.net/gh/nlby/live2dCDN@1.1.1/assets/', // 模型根目录
                modelName: 'xuefeng_3', // 模型目录
                sizeLimit: false,
                mobileLimit: false
            
            
        })
    }
</script>
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-app数据抓取策略" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      app数据抓取策略
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2020/10/23/app%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96%E7%AD%96%E7%95%A5/" class="article-date">
	  <time datetime="2020-10-23T11:32:25.000Z" itemprop="datePublished">2020-10-23</time>
	</a>
</span>
        
        

        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2020/10/23/app%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96%E7%AD%96%E7%95%A5/#comments" class="article-comment-link">Comments</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <blockquote>
<p>写在前面 获取web端靠八爪鱼够用（比较简单的） 至于移动端的，花了那么多时间 发现没有一个稳定的方法 1025测试发现平行空间证书可行，1031就又不行了。用夜神最开始抖音极速版可搜索，隔一天又不行了。其实用各种抓包工具+夜神的话还好，但非要搞抖音还是直播的真是折磨人，就不太明白为啥非要这个数据，明说了有几年经验的爬虫工程师处理这个一直变动的情况都有难度，ty你可真是个人。不过还好抖音之外的app还是好获取数据的，关键是很多app也是有web端的。</p>
</blockquote>
<h4 id="过程记录"><a href="#过程记录" class="headerlink" title="过程记录"></a>过程记录</h4><h5 id="搜集资料阶段"><a href="#搜集资料阶段" class="headerlink" title="搜集资料阶段"></a>搜集资料阶段</h5><p>直接就爬取app的方法进行搜索，粗略地看到很多博客、视频教程，但短时间内不能确定一个可行的过程是怎样的。这些资料的相同点是基本都用了抓包工具，但有不少相关的问题：</p>
<ul>
<li>为什么用抓包工具，爬取数据和抓包有什么关系</li>
<li>appium  selenium这些和爬取数据有什么关系</li>
<li>基本的爬取app数据的流程、使用的工具方法是怎样的</li>
</ul>
<p>由于这些相关内容不少且杂，相关性其实不高，故先从抓包工具fiddler工具相关的视频看起。</p>
<h5 id="具体看的阶段"><a href="#具体看的阶段" class="headerlink" title="具体看的阶段"></a>具体看的阶段</h5><h6 id="抓包工具fiddler"><a href="#抓包工具fiddler" class="headerlink" title="抓包工具fiddler"></a>抓包工具fiddler</h6><p>在b站上找了很多相关的视频，有的是基本的使用抓包工具测试的教程；有的是介绍相关使用的短视频。先找了一个小视频想入手，<a href="https://www.bilibili.com/video/BV1dz411b7Ei，看了之后发现有专门的抓包app" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1dz411b7Ei，看了之后发现有专门的抓包app</a> HttpCanary小黄鸟，于是在模拟器上按照教程安了，设置了证书，并进行了b视频的获取，参考<a href="https://www.bilibili.com/video/bv1pC4y1x79N/。但对于抓包的方法，如何分析有效数据还不甚了解。于是又看相关的短视频：Fiddler之移动端APP抓包教程" target="_blank" rel="noopener">https://www.bilibili.com/video/bv1pC4y1x79N/。但对于抓包的方法，如何分析有效数据还不甚了解。于是又看相关的短视频：Fiddler之移动端APP抓包教程</a> <a href="https://www.bilibili.com/video/BV13t4y1X7uN，实现了抓取模拟器上http和https的包" target="_blank" rel="noopener">https://www.bilibili.com/video/BV13t4y1X7uN，实现了抓取模拟器上http和https的包</a></p>
<h6 id="抓包app-HttpCanary"><a href="#抓包app-HttpCanary" class="headerlink" title="抓包app HttpCanary"></a>抓包app HttpCanary</h6><p>见上，付费，可抓包</p>
<h6 id="知乎的一些文章"><a href="#知乎的一些文章" class="headerlink" title="知乎的一些文章"></a>知乎的一些文章</h6><p>测试了fiddler抓模拟器的包后，10.23中午看了几篇知乎的文章，里面有一些有参考价值的。下面具体记述。</p>
<h4 id="fiddler"><a href="#fiddler" class="headerlink" title="fiddler"></a>fiddler</h4><p>根据<a href="https://www.bilibili.com/video/BV13t4y1X7uN实现了抓逍遥模拟器上app的http" target="_blank" rel="noopener">https://www.bilibili.com/video/BV13t4y1X7uN实现了抓逍遥模拟器上app的http</a> https的包。</p>
<p>需要注意以下方面：</p>
<ul>
<li>版本选取 </li>
<li>本地fiddler启动时，自动设置系统代理失败，不必在意，与模拟器无关</li>
<li>对于http的，直接设置工具-选项-连接-允许远程计算机连接（模拟器已和PC在同一网络下），代理服务器fiddler在8888端口上监听模拟器的请求</li>
<li>模拟器上 网络的高级设置 手动设置代理 注意又ipconfig获取的ip 选哪个，本机是192.168.56.1</li>
<li>以上两步后http可抓</li>
<li>对于https的，需访问<a href="http://192.168.56.1:8888/下载安装证书，即可抓取" target="_blank" rel="noopener">http://192.168.56.1:8888/下载安装证书，即可抓取</a></li>
</ul>
<p>后续fiddler的具体使用，参考<a href="https://www.bilibili.com/video/BV1c4411c7zH?p=3" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1c4411c7zH?p=3</a></p>
<p>设置系统代理，可以在chrome的设置-高级-系统代理设置中进行设置。</p>
<h4 id="http-canary"><a href="#http-canary" class="headerlink" title="http canary"></a>http canary</h4><p>参考 <a href="https://www.bilibili.com/video/bv1pC4y1x79N/" target="_blank" rel="noopener">https://www.bilibili.com/video/bv1pC4y1x79N/</a>  <a href="https://www.bilibili.com/video/BV1pz411B7tf/?spm_id_from=333.788.videocard.0" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1pz411B7tf/?spm_id_from=333.788.videocard.0</a> 抓了app中的视频。通过看教程和自行操作，有以下问题需要注意：</p>
<ul>
<li><p>该app目前免费版功能阉割，加密等功能付费高级版才有</p>
</li>
<li><p>用户证书 系统证书 root 安卓版本等问题</p>
</li>
<li><p>理论上 在模拟器上抓的话，不需要考虑太多证书 版本的问题（安卓版本5.1.1），但确实太吃内存了</p>
</li>
</ul>
<h4 id="知乎"><a href="#知乎" class="headerlink" title="知乎"></a>知乎</h4><p>看了上面的内容后，还是停留在一个对抓包工具的粗浅了解上，这和爬取数据以及很多文章中提到的appium有什么关系还不可知。于是在10.23中午看了几篇知乎上的文章和回答。</p>
<h5 id="夜神模拟器-mitdump爬取抖音作品"><a href="#夜神模拟器-mitdump爬取抖音作品" class="headerlink" title="夜神模拟器+mitdump爬取抖音作品"></a>夜神模拟器+mitdump爬取抖音作品</h5><p><a href="https://zhuanlan.zhihu.com/p/57091195?utm_source=qq&amp;utm_medium=social&amp;utm_oi=1009522323552051200" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/57091195?utm_source=qq&amp;utm_medium=social&amp;utm_oi=1009522323552051200</a></p>
<p>实现：输入一个抖音号，获取所有视频</p>
<p>摘要： 使用 charles 抓包工具进行接口分析，使用mitdump编写脚本爬取。</p>
<p>可以看出，抓包工具主要进行的是一个接口分析的工作，确定如何获取目标数据，使用一些语言编写的脚本就可利用分析结果进行爬取。而这样的实现，需要在app上手动操作后才能抓包，appium实现的就是这一过程的自动化。</p>
<p>评论中有几个github接口，但应该都失效了。。</p>
<p><a href="https://www.zhihu.com/people/mr.ji" target="_blank" rel="noopener">张小鸡</a>2019-04-13</p>
<p>直接走我的接口就好，何必这么麻烦：<a href="http://link.zhihu.com/?target=https%3A//github.com/hacksman/spider_world/blob/master/www_douyin_com/examples/fetch_video_test.py">https://github.com/hacksman/spi</a></p>
<p><a href="https://www.zhihu.com/people/fireant" target="_blank" rel="noopener">fireantzhang</a>2019-05-13</p>
<p>你这个爬取方式还是不太方便，我推荐一个直接跑脚本就行的，亲自测试过还是挺好用的：<a href="http://link.zhihu.com/?target=https%3A//github.com/loadchange/amemv-crawler">https://github.com/loadchange/a</a></p>
<h5 id="问答：App中的数据可以用网络爬虫抓取么？"><a href="#问答：App中的数据可以用网络爬虫抓取么？" class="headerlink" title="问答：App中的数据可以用网络爬虫抓取么？"></a>问答：App中的数据可以用网络爬虫抓取么？</h5><p><a href="https://www.zhihu.com/question/53094297" target="_blank" rel="noopener">https://www.zhihu.com/question/53094297</a></p>
<h6 id="八爪鱼平台的"><a href="#八爪鱼平台的" class="headerlink" title="八爪鱼平台的"></a>八爪鱼平台的</h6><p><strong>最近半年，我们八爪鱼陆续接到好几个APP数据采集的项目需求，我在群里面，偶尔也看到有些用户在问，有没有APP数据采集的工具。鉴于我们做过的几个APP数据采集项目的经验，我可以告诉大家，现在APP数据采集，市面上还没有通用的工具。我们八爪鱼内部是有一套工具，但由于使用的难度较高，需要编写脚本，所以不对普通用户公开，我们仅接受项目定制。</strong></p>
<p><strong>虽然不对外公开，但并不妨碍我们将技术分享出来，APP数据采集，一般走以下两种方式：1、抓包；2、HOOK</strong></p>
<p><strong>1、抓包</strong></p>
<p>有代码经验或APP开发的同学都很容易理解，其实很多APP，走的都是*<a href="https://link.zhihu.com/?target=http%3A//www.baidu.com/link%3Furl%3D9_JIJsipAAbf_pAtobsVd40GrmC7KexAiJr5PxhWMt8W_R_JWZeNdpESK4FiotLerfgV--nPaLypjYQsjpcc_SlbWTNwZ2zBPzJ_jw9wLNMhUJfB_k7lcj3hX7hFqWu5ekFERVqWsdWJgPsCLM7TWK">webservice</a>*通讯协议的方式，并且由于是公开数据，而且大部分是无加密的。所以只要对网络端口进行监测，对APP进行模拟操作，即可知道APP里面的数据是如何获取的。</p>
<p>我们只需要写代码模拟其请求，无论POST还是GET，即可得到该请求所返回的信息。再通过对返回的信息结构化解析，即可得到我们想要的数据。</p>
<p><strong>2、HOOK技术</strong></p>
<p>HOOK技术是一种走操作系统内核的技术，由于安卓系统是开源的，所以可以借助一些框架修改内核，从而实现你要的功能。HOOK的形式，我们走的是Xposed框架。Xposed是一款可以在不修改任何其他开发者开发的应用（包括系统服务）的情况下，改变程序运行的一个开源框架服务。基于它可以制作出许多功能强大的模块，以此来达到应用程序按照你的意愿运行的目的。</p>
<blockquote>
<p>如果把安卓手机看做一座城堡，那Xposed可以让你拥有一个上帝视角，城里的运作细节尽收你眼底，还能让你插一手改变城堡的运作规律。</p>
</blockquote>
<p>什么意思呢？简单的说就是你可以通过他，自动化的控制你的APP。如果将我们的APP开在模拟器上，我们可以通过编码，通过他告诉APP这一步干什么，下一步干什么。<strong>你把它理解成类似按健精灵或游戏打怪外挂就可以了。</strong></p>
<p>而他每走一步，APP与服务端交互的数据，均可获取下来。这种方式广泛用于一些成熟的APP。比如某信采集。</p>
<p><strong>3、这些年走过的坑</strong></p>
<p>聊完APP采集的思路，我们跟大家分享一些遇过的坑吧，让大家乐一乐</p>
<p><em>坑一：签名算法</em></p>
<blockquote>
<p>以某信的<strong>文章列表页</strong>及某<strong>信息页</strong>为例，对其http访问进行抓包，会发现其url的一个核心参数是我们无法知道如何生成的，这就导致，我们不可能直接用该url进行信息爬取；签名算法如果无法破解，HTTP这条路就是死路了。</p>
</blockquote>
<p><em>坑二：http爬取回来的信息和页面显示不一致</em></p>
<blockquote>
<p>以某信的某<strong>信息页</strong>为例，对比直接访问某信页面及http爬取的信息，可明显发现http爬取到的信息较少。造成得两种方式都用，才能既照顾速度又照顾完整性。</p>
</blockquote>
<p><em>坑三：模拟器中的坑</em></p>
<blockquote>
<p>APP自动识别你的运行环境进行屏蔽，最厉害的还是某信，连你是用模拟器打开还是真机打开，是什么内核的，全部进行限制。曾经见过牛人，找某手机厂商专门定做真机来配合。</p>
</blockquote>
<p><em>坑四：帐号的坑</em></p>
<blockquote>
<p>这个坑就有点大了，要找号、养号，都不是件容易的事情，更惨的是封号，真真让你一夜回到解放前。</p>
</blockquote>
<p>最后附上八爪鱼的下载链接：</p>
<p><a href="https://link.zhihu.com/?target=http%3A//www.bazhuayu.com/download%3Futm_campaign%3Dzhihu%26utm_medium%3Dquestion53094297">免费下载 - 八爪鱼采集器www.bazhuayu.com<img src="https://pic2.zhimg.com/v2-909d5867449f4b618c861e4cd0a34371_180x120.jpg" alt="图标"></a></p>
<h6 id="一个有经验者"><a href="#一个有经验者" class="headerlink" title="一个有经验者"></a>一个有经验者</h6><p><img src="img/1603540783621.png" alt="1603540783621"></p>
<h6 id="第三个"><a href="#第三个" class="headerlink" title="第三个"></a>第三个</h6><p><img src="img/1603540845029.png" alt="1603540845029"></p>
<h6 id="第四个"><a href="#第四个" class="headerlink" title="第四个"></a>第四个</h6><p>作者：li crifan</p>
<ul>
<li><p>简答：可以。</p>
</li>
<li><ul>
<li><p>但前提是你能成功抓包分析出逻辑和api请求，然后才轮到写代码模拟请求去爬取数据</p>
</li>
<li><ul>
<li><p>而这个前提，往往不是很容易做到</p>
</li>
<li><ul>
<li><p>越是大厂的app，往往反扒、反破解难度越高</p>
</li>
<li><ul>
<li>最后你发现，其实爬取这些app工作量和难度算100，可能破解占了30%甚至90%</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>详解：</p>
<ul>
<li><p>如果app本身没加密和反扒难度低</p>
</li>
<li><ul>
<li>简单用抓包工具，比如<strong><a href="https://link.zhihu.com/?target=http%3A//book.crifan.com/books/app_capture_package_tool_charles/website">Charles</a>，</strong>去分析网络请求，多数为REST的api，加上合适的header和参数，就可以写代码去爬到数据了</li>
</ul>
</li>
<li><p>如果app本身的请求是https加了密的</p>
</li>
<li><ul>
<li><p>那么先要破解https，往往是找工具和技术去绕过https，才能看到明文</p>
</li>
<li><ul>
<li>相关工具：<strong><a href="https://link.zhihu.com/?target=http%3A//book.crifan.com/books/app_capture_package_tool_charles/website">Charles</a></strong>+<strong><a href="https://link.zhihu.com/?target=https%3A//book.crifan.com/books/powerful_crack_tool_xposed_framework/website/">XPosed</a></strong>(+插件：<a href="https://link.zhihu.com/?target=https%3A//github.com/Fuzion24/JustTrustMe/">JustTrustMe</a>）+Android虚拟机（<a href="https://link.zhihu.com/?target=https%3A//book.crifan.com/books/good_android_emulator_nox/website/">Nox夜神模拟器</a>）</li>
<li>如何操作：详见完整教程  <a href="https://link.zhihu.com/?target=https%3A//book.crifan.com/books/app_capture_package_tool_charles/website/how_capture_app/complex_https/https_ssl_pinning/root_android_xposed_justtrustme.html">已root的安卓+XPosed+JustTrustMe破解ssl pinning</a></li>
</ul>
</li>
</ul>
</li>
<li><p>如果app本身的发送和接收的数据虽然是明文但都是加了密看似乱码，则要找到加密和解密逻辑才可能破解和模拟请求爬取数据</p>
</li>
<li><ul>
<li><p>就又涉及到 app的加固和去壳方面的技术了</p>
</li>
<li><ul>
<li><p>如何操作：详见独立教程 <a href="https://link.zhihu.com/?target=https%3A//book.crifan.com/books/android_app_security_crack/website/">安卓应用的安全和破解</a></p>
</li>
<li><ul>
<li>比如稍微复杂一点的，典型分3步： <a href="https://link.zhihu.com/?target=https%3A//book.crifan.com/books/android_app_security_crack/website/android_crack_tech/how_apk_to_java_src/3_steps/">三步: app-&gt;dex-&gt;jar-&gt;java</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>总结：</p>
<p>爬取app数据的工作量和难度：</p>
<ul>
<li>平均来说= <strong>60%的破解</strong> + <strong>10%的抓包分析</strong> + <strong>30%的写爬虫代码</strong></li>
</ul>
<p>-》你只是要爬取app数据，往往变成</p>
<ol>
<li>先要破解app</li>
<li>才能爬取其数据</li>
</ol>
<p>与爬虫相关：</p>
<p>其实写爬虫，要先去<a href="https://link.zhihu.com/?target=https%3A//crifan.github.io/crawl_your_data_spider_technology/website/core_logic/">搞懂核心逻辑</a>，即</p>
<ol>
<li>下载</li>
<li>提取</li>
<li>保存</li>
</ol>
<p>然后才是搞清楚，一般写爬虫有哪些<a href="https://link.zhihu.com/?target=https%3A//crifan.github.io/crawl_your_data_spider_technology/website/core_logic/typical_implement_type.html">典型实现方式</a>：</p>
<ul>
<li>裸写爬虫代码</li>
<li>用第三方库写爬虫代码</li>
<li>用爬虫框架</li>
</ul>
<p>其次才是，搞清楚常见哪些编程语言，每种编程语言有<a href="https://link.zhihu.com/?target=https%3A//crifan.github.io/crawl_your_data_spider_technology/website/spider_framework/common_framework.html">哪些框架</a></p>
<p>最后才是选用合适语言，合适的方式</p>
<p>如果选框架的话，再选合适的框架，去写你的爬虫</p>
<p>比如选<a href="https://link.zhihu.com/?target=http%3A//book.crifan.com/books/use_python_write_spider/website">用Python写爬虫</a>，用<a href="https://link.zhihu.com/?target=https%3A//book.crifan.com/books/python_spider_pyspider/website/">PySpider</a>或<a href="https://link.zhihu.com/?target=http%3A//book.crifan.com/books/python_spider_scrapy/website">Scrapy</a>等去爬取你要的数据。</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><h5 id="若要达到获取app数据的目的，有三个方法可选取"><a href="#若要达到获取app数据的目的，有三个方法可选取" class="headerlink" title="若要达到获取app数据的目的，有三个方法可选取"></a>若要达到获取app数据的目的，有三个方法可选取</h5><ul>
<li>利用已有平台，需测试 <a href="https://www.bazhuayu.com/?utm_campaign=baidu&amp;utm_medium=pc15182&amp;utm_source=YTPC2&amp;utm_content=%e7%88%ac%e8%99%ab&amp;utm_term=app%e7%88%ac%e8%99%ab&amp;bd_vid=7135645974450989106" target="_blank" rel="noopener">https://www.bazhuayu.com/?utm_campaign=baidu&amp;utm_medium=pc15182&amp;utm_source=YTPC2&amp;utm_content=%e7%88%ac%e8%99%ab&amp;utm_term=app%e7%88%ac%e8%99%ab&amp;bd_vid=7135645974450989106</a></li>
<li>在PC上 用fiddler等抓包工具 模拟器</li>
<li>移动端上 用 httpcanary这种 有版本限制</li>
</ul>
<h5 id="若是采用PC-抓包-模拟器-爬虫的方法"><a href="#若是采用PC-抓包-模拟器-爬虫的方法" class="headerlink" title="若是采用PC+抓包+模拟器+爬虫的方法"></a>若是采用PC+抓包+模拟器+爬虫的方法</h5><ul>
<li>抓模拟器已经可行</li>
<li>fiddler的使用分析还需进一步了解</li>
<li>需要有一个简单接口的测试，然后才能对复杂接口进行分析</li>
<li>使用python或java写爬虫都可以</li>
<li>自动化是在手动实现后才需要考虑的问题</li>
</ul>
<h4 id="分隔线-以上为10-24-以下为10-25"><a href="#分隔线-以上为10-24-以下为10-25" class="headerlink" title="分隔线  以上为10.24 以下为10.25"></a>分隔线  以上为10.24 以下为10.25</h4><h4 id="1025概述"><a href="#1025概述" class="headerlink" title="1025概述"></a>1025概述</h4><h5 id="主要工作"><a href="#主要工作" class="headerlink" title="主要工作"></a>主要工作</h5><ul>
<li>对fiddler相关原理、界面、功能进行学习，进行了相关测试</li>
<li>对知乎和b站上使用mitmproxy进行数据爬取的方法进行测试</li>
</ul>
<h5 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h5><ul>
<li>在模拟器上测试，会因硬件限制等问题导致崩溃</li>
<li>真机抓不到https协议的包，安装的证书不管是来自fiddler的还是mitm的都无效，一直都是443</li>
</ul>
<h4 id="主要过程"><a href="#主要过程" class="headerlink" title="主要过程"></a>主要过程</h4><h5 id="fiddler学习"><a href="#fiddler学习" class="headerlink" title="fiddler学习"></a>fiddler学习</h5><h6 id="http基本相关内容"><a href="#http基本相关内容" class="headerlink" title="http基本相关内容"></a>http基本相关内容</h6><h6 id="fiddler工具使用-界面功能-与模拟器-真机的连接测试"><a href="#fiddler工具使用-界面功能-与模拟器-真机的连接测试" class="headerlink" title="fiddler工具使用 界面功能 与模拟器/真机的连接测试"></a>fiddler工具使用 界面功能 与模拟器/真机的连接测试</h6><p>对于测试过程中的现象和注意点详细记述一下：</p>
<blockquote>
<p>模拟器 逍遥模拟器5.1.1版本</p>
</blockquote>
<ul>
<li>首先，保证安卓版本在7以下，否则在代理情况下是打不开app的 原因是7及以上版本用户证书不再被信任</li>
<li>为有更好的硬件条件，在两台电脑上均进行测试，但效果都差不多，不怎么理想。表现为：在抖音上可以打开短视频、直播，但再刷会卡或崩溃，搜索无结果，b站打开崩溃。</li>
<li>配置方法：fiddler启动后，常规配置，监听https。模拟器网络设置代理，访问相应Ip端口下载安装证书。</li>
</ul>
<blockquote>
<p>真机 小米note3</p>
</blockquote>
<p>由于在模拟器上过卡，选择在真机上测试。注意以下几点：</p>
<ul>
<li>设置代理的ip和模拟器设置的一般是不同的，若不能联网则换成其他进行测试</li>
<li>下载安装证书同样的方法</li>
</ul>
<p>但与模拟器很明显的差别是，浏览器打开不加载样式，其他app也无法打开，fiddler显示443，但在测试时没有意识到问题所在，而是选择进行其他方法的测试（实际上是证书无效）。</p>
<h5 id="mitmproxy（参考知乎和b视频测试）"><a href="#mitmproxy（参考知乎和b视频测试）" class="headerlink" title="mitmproxy（参考知乎和b视频测试）"></a>mitmproxy（参考知乎和b视频测试）</h5><h6 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h6><ul>
<li><a href="https://mp.weixin.qq.com/s/Yldl8oOLvX5Zq7FuHH17Gg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Yldl8oOLvX5Zq7FuHH17Gg</a>  数据平台初试（技术篇）——抖音数据采集（初级版）</li>
<li><a href="https://www.bilibili.com/video/BV1Kt411q7tQ" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1Kt411q7tQ</a></li>
</ul>
<h6 id="安装使用过程中的问题"><a href="#安装使用过程中的问题" class="headerlink" title="安装使用过程中的问题"></a>安装使用过程中的问题</h6><ol>
<li><p>pip install mitmproxy时出现的几个问题：（1）Cannot uninstall ‘certifi’. It is a distutils installed project and thus we 直接在anaconda依赖包下的对应文件夹和文件删去了，注意是一个文件夹和一个文件 （2）importError: cannot import name ‘PyAsn1UnicodeDecodeErr </p>
<p>参考 <a href="https://www.jianshu.com/p/ed99e9d2bced" target="_blank" rel="noopener">https://www.jianshu.com/p/ed99e9d2bced</a>  卸了重装</p>
</li>
<li><p>windows下是无法使用mitmproxy命令的，可以使用mitmdump或mitmweb</p>
<p>首先参考  <a href="https://www.cnblogs.com/shenhf/p/9783174.html" target="_blank" rel="noopener">https://www.cnblogs.com/shenhf/p/9783174.html</a>  使用mitmweb，给真机安装证书（ <a href="https://download.csdn.net/download/gjbfyhbfg/12249162" target="_blank" rel="noopener">https://download.csdn.net/download/gjbfyhbfg/12249162</a>  证书直接无法下载）后发现一直无法正常连接 报很多错误 tls什么的 443.。换成dump也不行。开始以为是缺少一个脚本，参考  <a href="http://h3blog.com/article/mitmproxy-app-errors/" target="_blank" rel="noopener">http://h3blog.com/article/mitmproxy-app-errors/</a>  添加脚本后，还是一样的一大堆443。然后app虽然可以正常打开，但什么都抓不到。。</p>
</li>
</ol>
<h6 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h6><ul>
<li><p>mitmproxy作为python的一个库，有抓包分析和根据脚本爬取的功能。单抓包来说，其提供的展示分析功能没有fiddler等充分好看，但最大的优势是可以直接利用其写python爬取的脚本。</p>
</li>
<li><p>综上这些，都没法很好地对app进行抓包，最终到1025晚上，意识到这些443错误总归是https的包无法抓到引发的问题，于是直接查如何解决这个问题</p>
</li>
</ul>
<h4 id="平行空间与抓包可行方案"><a href="#平行空间与抓包可行方案" class="headerlink" title="平行空间与抓包可行方案"></a>平行空间与抓包可行方案</h4><ul>
<li>经以上测试得结论，在真机上安装的证书实际都是无效的，因此如何使其对app有效，想到了先前看小黄鸟时的平行空间。于是下载平行空间，把浏览器放入，用fiddler everywhere代理测试，发现成功抓取到了基本所有的包。</li>
<li>放入抖音、b站时提示需要64位拓展，安装后，还是崩溃闪退，推测是因为app较大导致，因此换用抖音极速版和b站概念版进行测试，发现app可正常打开并可抓到很多https的包。</li>
<li>1026早上，发现用fiddler抓包可能不太可抓全</li>
<li>1026上午，使用httpcanary直接对平行空间中的抖音极速版等抓包，发现抓到的数据很完整</li>
</ul>
<p>由此，可得出抓包分析的解决方案：</p>
<ul>
<li>pc fiddler/mitmproxy对真机抓包（平行空间） 优点是便于处理数据 缺点是抓到的可能不全</li>
<li>小黄鸟 抓的全 但数据不好保存处理</li>
</ul>
<h4 id="总结与后续问题"><a href="#总结与后续问题" class="headerlink" title="总结与后续问题"></a>总结与后续问题</h4><h5 id="目前解决了以下问题："><a href="#目前解决了以下问题：" class="headerlink" title="目前解决了以下问题："></a>目前解决了以下问题：</h5><ul>
<li>明确了爬取app数据的流程方法</li>
<li>确定了可行的抓包方案</li>
</ul>
<h5 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h5><ul>
<li>抖音短视频等信息是可直接获取的，但直播肯定加密了 protobuf 用一些签名算法 <a href="https://github.com/makelove/Programer_Log/tree/master/2020/4-1-mitmproxy-%E6%8A%96%E9%9F%B3" target="_blank" rel="noopener">https://github.com/makelove/Programer_Log/tree/master/2020/4-1-mitmproxy-%E6%8A%96%E9%9F%B3</a> 这基本上是最大难点</li>
<li>爬取脚本</li>
<li>自动化实现</li>
</ul>
<h4 id="其他参考与问题"><a href="#其他参考与问题" class="headerlink" title="其他参考与问题"></a>其他参考与问题</h4><h5 id="fiddler-443"><a href="#fiddler-443" class="headerlink" title="fiddler 443"></a>fiddler 443</h5><p><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=%E5%93%8D%E5%BA%94%E7%A0%81443" target="_blank" rel="noopener">https://www.baidu.com/s?ie=UTF-8&amp;wd=%E5%93%8D%E5%BA%94%E7%A0%81443</a><br><a href="https://blog.csdn.net/kvpp0307/article/details/52451363" target="_blank" rel="noopener">https://blog.csdn.net/kvpp0307/article/details/52451363</a><br><a href="https://blog.csdn.net/LY_Dengle/article/details/73459927?utm_medium=distribute.pc_relevant.none-task-blog-title-1&amp;spm=1001.2101.3001.4242" target="_blank" rel="noopener">https://blog.csdn.net/LY_Dengle/article/details/73459927?utm_medium=distribute.pc_relevant.none-task-blog-title-1&amp;spm=1001.2101.3001.4242</a><br><a href="https://blog.csdn.net/weixin_42442458/article/details/80664423?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-4.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-4.channel_param" target="_blank" rel="noopener">https://blog.csdn.net/weixin_42442458/article/details/80664423?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-4.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-4.channel_param</a><br><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=fiddler%E5%AE%89%E8%A3%85%E8%AF%81%E4%B9%A6%E6%97%A0%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98" target="_blank" rel="noopener">https://www.baidu.com/s?ie=UTF-8&amp;wd=fiddler%E5%AE%89%E8%A3%85%E8%AF%81%E4%B9%A6%E6%97%A0%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98</a><br><a href="https://blog.csdn.net/cd_home/article/details/79459372?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param" target="_blank" rel="noopener">https://blog.csdn.net/cd_home/article/details/79459372?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param</a></p>
<h5 id="fiddler相关"><a href="#fiddler相关" class="headerlink" title="fiddler相关"></a>fiddler相关</h5><p><a href="https://www.bilibili.com/video/BV1c4411c7zH?p=22" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1c4411c7zH?p=22</a><br><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=fiddler%20everywhere" target="_blank" rel="noopener">https://www.baidu.com/s?ie=UTF-8&amp;wd=fiddler%20everywhere</a><br><a href="https://www.jianshu.com/p/22829ac2848a" target="_blank" rel="noopener">https://www.jianshu.com/p/22829ac2848a</a><br><a href="https://www.jianshu.com/go-wild?ac=2&amp;url=https%3A%2F%2Fpan.baidu.com%2Fs%2F1hyxOi50CpmcGcmcB5hzQoA" target="_blank" rel="noopener">https://www.jianshu.com/go-wild?ac=2&amp;url=https%3A%2F%2Fpan.baidu.com%2Fs%2F1hyxOi50CpmcGcmcB5hzQoA</a><br><a href="https://www.cnblogs.com/FunTester/p/13461653.html" target="_blank" rel="noopener">https://www.cnblogs.com/FunTester/p/13461653.html</a><br><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=failed%20to%20register%20fiddler%20as" target="_blank" rel="noopener">https://www.baidu.com/s?ie=UTF-8&amp;wd=failed%20to%20register%20fiddler%20as</a><br><a href="https://blog.csdn.net/weixin_43157068/article/details/104062921" target="_blank" rel="noopener">https://blog.csdn.net/weixin_43157068/article/details/104062921</a><br><a href="https://blog.csdn.net/qq_42119742/article/details/107786057?utm_medium=distribute.pc_relevant.none-task-blog-title-1&amp;spm=1001.2101.3001.4242" target="_blank" rel="noopener">https://blog.csdn.net/qq_42119742/article/details/107786057?utm_medium=distribute.pc_relevant.none-task-blog-title-1&amp;spm=1001.2101.3001.4242</a><br><a href="https://blog.csdn.net/qq_38355456/article/details/74323334?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param" target="_blank" rel="noopener">https://blog.csdn.net/qq_38355456/article/details/74323334?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param</a><br><a href="https://blog.csdn.net/weixin_43157068/article/details/104062921?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param" target="_blank" rel="noopener">https://blog.csdn.net/weixin_43157068/article/details/104062921?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param</a></p>
<h5 id="mitmproxy"><a href="#mitmproxy" class="headerlink" title="mitmproxy"></a>mitmproxy</h5><p><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=Cannot%20establish%20TLS%20with%20client%20(sni%3A%20o2o.api.xiaomi.com)%3A%20TlsException(%22SSL%20handshake%20error%3A%20Error(%5B(%27SSL%20routines%27,%20%27ssl3_read_bytes%27,%20%27sslv3%20alert%20certificate%20unknown%27)%5D)%22" target="_blank" rel="noopener">https://www.baidu.com/s?ie=UTF-8&amp;wd=Cannot%20establish%20TLS%20with%20client%20(sni%3A%20o2o.api.xiaomi.com)%3A%20TlsException(%22SSL%20handshake%20error%3A%20Error(%5B(%27SSL%20routines%27,%20%27ssl3_read_bytes%27,%20%27sslv3%20alert%20certificate%20unknown%27)%5D)%22</a>)<br><a href="https://www.cnblogs.com/liangmingshen/p/12375124.html" target="_blank" rel="noopener">https://www.cnblogs.com/liangmingshen/p/12375124.html</a><br><a href="https://blog.csdn.net/andrew_wf/article/details/84991989" target="_blank" rel="noopener">https://blog.csdn.net/andrew_wf/article/details/84991989</a><br><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=mitmproxy%E5%AE%89%E5%8D%93%E8%AF%81%E4%B9%A6" target="_blank" rel="noopener">https://www.baidu.com/s?ie=UTF-8&amp;wd=mitmproxy%E5%AE%89%E5%8D%93%E8%AF%81%E4%B9%A6</a><br><a href="https://download.csdn.net/download/gjbfyhbfg/12249162" target="_blank" rel="noopener">https://download.csdn.net/download/gjbfyhbfg/12249162</a><br><a href="https://blog.csdn.net/zhangyingchengqi/article/details/84326507?utm_medium=distribute.pc_relevant_download.none-task-blog-baidujs-2.nonecase&amp;depth_1-utm_source=distribute.pc_relevant_download.none-task-blog-baidujs-2.nonecase" target="_blank" rel="noopener">https://blog.csdn.net/zhangyingchengqi/article/details/84326507?utm_medium=distribute.pc_relevant_download.none-task-blog-baidujs-2.nonecase&amp;depth_1-utm_source=distribute.pc_relevant_download.none-task-blog-baidujs-2.nonecase</a><br><a href="https://www.jianshu.com/p/70208fbc8e43" target="_blank" rel="noopener">https://www.jianshu.com/p/70208fbc8e43</a><br><a href="https://blog.csdn.net/zc520yzy/article/details/107200975" target="_blank" rel="noopener">https://blog.csdn.net/zc520yzy/article/details/107200975</a><br><a href="https://www.jianshu.com/p/d9e419efe80c" target="_blank" rel="noopener">https://www.jianshu.com/p/d9e419efe80c</a><br><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=%3C%3C%20Cannot%20establish%20TLS%20with%20client%20(sni%3A%20appcloud.zhihu.com)%3A%20TlsException(%22SSL%20handshake%20error%3A%20Error(%5B(%27SSL%20routines%27,%20%27ssl3_read_bytes%27,%20%27sslv3%20alert%20certificate%20unknown%27)%5D)%22" target="_blank" rel="noopener">https://www.baidu.com/s?ie=UTF-8&amp;wd=%3C%3C%20Cannot%20establish%20TLS%20with%20client%20(sni%3A%20appcloud.zhihu.com)%3A%20TlsException(%22SSL%20handshake%20error%3A%20Error(%5B(%27SSL%20routines%27,%20%27ssl3_read_bytes%27,%20%27sslv3%20alert%20certificate%20unknown%27)%5D)%22</a>)<br><a href="https://segmentfault.com/q/1010000015723975?sort=created" target="_blank" rel="noopener">https://segmentfault.com/q/1010000015723975?sort=created</a><br><a href="https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=1&amp;tn=baidu&amp;wd=TLS%20passthrough%20for%20(%27sugar.zhihu.com%27%2C%20443)&amp;oq=clientdisconnect&amp;rsv_pq=b548e2490007b3e0&amp;rsv_t=56244onfLr24832Sfuf1sTE0Ql%2BEmI92suZOMV%2FQQPd1gG5xlHY%2FXE7V%2By0&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_dl=tb&amp;rsv_btype=t&amp;inputT=1229&amp;rsv_sug3=5&amp;rsv_sug1=2&amp;rsv_sug7=100&amp;rsv_n=2&amp;rsv_sug2=0&amp;rsv_sug4=1967" target="_blank" rel="noopener">https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=1&amp;tn=baidu&amp;wd=TLS%20passthrough%20for%20(%27sugar.zhihu.com%27%2C%20443)&amp;oq=clientdisconnect&amp;rsv_pq=b548e2490007b3e0&amp;rsv_t=56244onfLr24832Sfuf1sTE0Ql%2BEmI92suZOMV%2FQQPd1gG5xlHY%2FXE7V%2By0&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_dl=tb&amp;rsv_btype=t&amp;inputT=1229&amp;rsv_sug3=5&amp;rsv_sug1=2&amp;rsv_sug7=100&amp;rsv_n=2&amp;rsv_sug2=0&amp;rsv_sug4=1967</a><br><a href="https://segmentfault.com/a/1190000018901022" target="_blank" rel="noopener">https://segmentfault.com/a/1190000018901022</a><br><a href="https://blog.csdn.net/qq_42677001/article/details/95203727" target="_blank" rel="noopener">https://blog.csdn.net/qq_42677001/article/details/95203727</a></p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://nlbyd1119.online/2020/10/23/app%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96%E7%AD%96%E7%95%A5/" title="app数据抓取策略" target="_blank" rel="external">http://nlbyd1119.online/2020/10/23/app%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96%E7%AD%96%E7%95%A5/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/nlby" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/nlby" target="_blank"><span class="text-dark">nlby</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    <div id="git"></div>
<link rel="stylesheet" href="https://billts.site/extra_css/gitment.css">
<script src="https://billts.site/js/gitment.js"></script>
<script>
var gitment = new Gitment({
  id: window.decodeURIComponent(window.location.pathname),
  owner: 'nlby',
  repo: 'nlbyvh.github.io',
  oauth: {
    client_id: '6d53a92df707fc123e7a',
    client_secret: '2bd9e28afe88cb142fa8fa7092c9a8c20ae25555',
  },
})
gitment.render('git')
</script>
  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2020/10/31/%E6%B1%87%E7%BC%96%E7%A8%8B%E5%BA%8F%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E8%AF%B4%E6%98%8E/" title="汇编程序功能实现说明"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2020/10/18/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%92%8Csolidity%E5%A4%8D%E4%B9%A0%E5%85%B6%E4%BA%8C/" title="以太坊和solidity复习其二"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	

    <div class="copyright">
    	
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   
    
<script src="//cdn.jsdelivr.net/npm/gitment@0.0.3/dist/gitment.browser.min.js"></script>
<script>
var gitment = new Gitment({
  // id默认为当前页面url，如果url后带参数或锚点，gitment要重新初始化
  // https://github.com/imsun/gitment/issues/55
  // 解决方案：id:window.location.pathname,或者将id设置为当前页面标题
  id: 'app数据抓取策略', 
  owner: 'nlby', // 可以是你的GitHub用户名，也可以是github id
  repo: 'nlbyvh.github.io',
  oauth: {
    client_id: '6d53a92df707fc123e7a',
    client_secret: '2bd9e28afe88cb142fa8fa7092c9a8c20ae25555',
  }
})
gitment.render('comments')
</script>









<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/violet.model.json"},"display":{"position":"left","width":180,"height":360},"mobile":{"show":true},"log":false});</script></body>
</html>